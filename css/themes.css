/* ======
   MODO ESCURO
   ========== */

body.dark-mode {
    background: var(--cor-fundo-escuro);
    color: #ddd;
}

body.dark-mode .top-bar {
    background: #000;
}

body.dark-mode .side-menu {
    background: #2c2c2c;
    color: #eee;
}

/* Ajuste para os botões de camadas no modo escuro */
body.dark-mode #grupoBase label,
body.dark-mode #grupoIBGE label,
body.dark-mode #grupoPMAC label {
    background: #3a3a3a;       /* fundo mais escuro */
    color: #f0f0f0;            /* texto claro */
    border-radius: 4px;
    display: block;
    margin: 4px 0;             /* igual ao light mode */
    padding: 3px;              /* igual ao light mode */
    transition: background 0.3s ease, color 0.3s ease;
}

/* Hover no modo escuro */
body.dark-mode #grupoBase label:hover,
body.dark-mode #grupoIBGE label:hover,
body.dark-mode #grupoPMAC label:hover {
    background: #505050;
}

/* Mantém a borda colorida das camadas no modo escuro */
body.dark-mode #grupoBase label[style*="border-left"],
body.dark-mode #grupoIBGE label[style*="border-left"],
body.dark-mode #grupoPMAC label[style*="border-left"] {
    background: #3a3a3a;
}

body.dark-mode #grupoPMACCameras label {
    background: #3a3a3a;       /* fundo mais escuro */
    color: #f0f0f0;            /* texto claro */
    border-radius: 4px;
    display: block;            /* mantém igual aos outros grupos */
    margin: 4px 0;             /* igual ao light mode e outros grupos no dark */
    padding: 3px;              /* igual aos outros grupos */
    transition: background 0.3s ease, color 0.3s ease;
}

body.dark-mode #grupoPMACCameras label:hover {
    background: #505050;
}

body.dark-mode #grupoPMACCameras label img {
    width: 20px;       /* reduzido para ficar proporcional */
    height: 20px;
    filter: brightness(0) invert(1);
    margin-right: 8px; /* mesmo espaçamento com o texto */
    vertical-align: middle;
}

body.dark-mode #grupoPMACOnibus label {
    background: #3a3a3a;       /* fundo mais escuro */
    color: #f0f0f0;            /* texto claro */
    border-radius: 4px;
    display: block;
    margin: 4px 0;
    padding: 3px;
    transition: background 0.3s ease, color 0.3s ease;
}

body.dark-mode #grupoPMACOnibus label:hover {
    background: #505050;
}

body.dark-mode #grupoPMACOnibus label img {
    filter: brightness(0) invert(1);
}

/* ====== AJUSTES FALTANTES PARA O MODO ESCURO ====== */

/* Barra de pesquisa */
body.dark-mode .top-bar .search-container input {
    background: #444;
    color: #f0f0f0;
    border: 1px solid #666;
}
body.dark-mode .top-bar .search-container button {
    background: #555;
    color: #fff;
}
body.dark-mode .top-bar .search-container button:hover {
    background: #777;
}

/* Diagnóstico / status */
body.dark-mode .diagnostico-ok { background: #2e4d35; color: #9be5a2; }
body.dark-mode .diagnostico-erro { background: #5a2c2c; color: #f4a5a5; }
body.dark-mode .diagnostico-aviso { background: #5a5230; color: #f6d98b; }

body.dark-mode .status-indicator.loading { background: #b67a1d; }
body.dark-mode .status-indicator.error { background: #c0392b; }
body.dark-mode .status-indicator.success { background: #27ae60; }

/* Labels genéricos dentro do container de camadas */
body.dark-mode #camadasList label,
body.dark-mode #camadasContainer label {
    background: #333;
    color: #eee;
}

/* Summary no dark */
body.dark-mode details summary {
    color: #eee;
}

/* Botões pequenos no dark */
body.dark-mode .btn-small {
    background: #444;
    color: #eee;
    border: 1px solid #666;
}
body.dark-mode .btn-small:hover {
    background: #555;
}
